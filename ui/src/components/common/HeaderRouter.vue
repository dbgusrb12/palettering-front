<template>
  <div class="router-list-wrap">
    <!-- 홈피드 -->
    <router-link to="/main/homeFeed" class="router-list">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        version="1.1"
        viewBox="0 0 451.274 451.274"
        height="23px"
        v-if="routeName === 'homeFeed' && alarmPopover === false"
      >
        <g>
          <path
            d="M418.943,176.466L230.862,4.058c-6.269-5.747-15.673-5.224-21.42,0.522L31.809,176.988  c-3.135,2.612-4.702,6.792-4.702,10.971v247.641c0,8.882,6.792,15.673,15.673,15.673h130.612c8.882,0,15.673-6.792,15.673-15.673  V320.662h73.143v114.939c0,8.882,6.792,15.673,15.673,15.673h130.612c8.882,0,15.673-6.792,15.673-15.673V187.96  C424.168,183.78,422.078,179.601,418.943,176.466z"
            data-original="#4DCFE0"
            class="active-path"
            data-old_color="#4DCFE0"
            fill="#000000"
          />
        </g>
      </svg>
      <svg
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        height="23px"
        viewBox="0 0 512 512"
        v-else
      >
        <g>
          <g>
            <path
              d="M475.425,200.225L262.092,4.669c-6.951-6.359-17.641-6.204-24.397,0.35L36.213,200.574 c-3.449,3.348-5.399,7.953-5.399,12.758v280.889c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.959,17.778-17.778 v-130.37h82.963v130.37c0,9.819,7.958,17.778,17.778,17.778h148.148c9.819,0,17.778-7.953,17.778-17.778V213.333 C481.185,208.349,479.099,203.597,475.425,200.225z M445.629,476.444H333.037v-130.37c0-9.819-7.959-17.778-17.778-17.778H196.741 c-9.819,0-17.778,7.959-17.778,17.778v130.37H66.37V220.853L250.424,42.216l195.206,178.939V476.444z"
            />
          </g>
        </g>
      </svg>
      <!-- <img src="/images/main/nav-home-on.png" v-if="routeName === 'homeFeed'" />
      <img src="/images/main/nav-home.png" v-else /> -->
    </router-link>
    <!-- 탐색 -->
    <router-link to="/main/findFeed" class="router-list">
      <svg
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 426.667 426.667"
        height="23px"
        v-if="routeName === 'findFeed' && alarmPopover === false"
      >
        <g>
          <g>
            <g>
              <path
                d="M213.333,236.8c13.013,0,23.467-10.56,23.467-23.467s-10.453-23.467-23.467-23.467c-12.907,0-23.467,10.56-23.467,23.467 S200.427,236.8,213.333,236.8z"
              />
              <path
                d="M213.333,0C95.467,0,0,95.467,0,213.333c0,117.76,95.467,213.333,213.333,213.333s213.333-95.573,213.333-213.333 C426.667,95.467,331.2,0,213.333,0z M260.053,260.053l-174.72,81.28l81.28-174.72l174.72-81.28L260.053,260.053z"
              />
            </g>
          </g>
        </g>
      </svg>
      <svg
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 512 512"
        height="23px"
        v-else
      >
        <g>
          <g>
            <g>
              <path
                d="M256,0C114.844,0,0,114.844,0,256s114.844,256,256,256s256-114.844,256-256S397.156,0,256,0z M256,490.667 C126.604,490.667,21.333,385.396,21.333,256S126.604,21.333,256,21.333S490.667,126.604,490.667,256S385.396,490.667,256,490.667 z"
              />
              <path
                d="M256,277.333c11.76,0,21.333-9.573,21.333-21.333S267.76,234.667,256,234.667S234.667,244.24,234.667,256 S244.24,277.333,256,277.333z"
              />
              <path
                d="M379.448,118.24l-170.885,85.552c-2.063,1.031-3.74,2.708-4.771,4.771L118.24,379.448c-2.052,4.104-1.25,9.063,2,12.313 c2.052,2.052,4.781,3.125,7.542,3.125c1.625,0,3.26-0.365,4.771-1.125l170.885-85.552c2.063-1.031,3.74-2.708,4.771-4.771 l85.552-170.885c2.052-4.104,1.25-9.063-2-12.313C388.521,116.99,383.531,116.198,379.448,118.24z M290.719,290.719 l-139.052,69.615l69.615-139.052l139.052-69.615L290.719,290.719z"
              />
            </g>
          </g>
        </g>
      </svg>
      <!-- <img
        src="/images/main/nav-compass-on.png"
        v-if="routeName === 'findFeed'"
      />
      <img src="/images/main/nav-compass.png" v-else /> -->
    </router-link>
    <!-- 활동 -->
    <div class="router-list">
      <el-popover
        placement="bottom"
        width="517"
        trigger="click"
        v-model="alarmPopover"
        popper-class="alarm-popover"
      >
        <span slot="reference">
          <svg
            viewBox="0 -28 512.001 512"
            xmlns="http://www.w3.org/2000/svg"
            height="23px"
            v-if="alarmPopover === false"
          >
            <path
              d="m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"
            />
          </svg>
          <svg
            viewBox="0 -28 512.00002 512"
            xmlns="http://www.w3.org/2000/svg"
            height="23px"
            v-else
          >
            <path
              d="m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687 0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438 33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063 0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375 50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875 12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344 58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187 0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0"
            />
          </svg>
        </span>
        <AlarmFeed />
      </el-popover>
      <!-- <img src="/images/main/nav-heart.png" /> -->
    </div>
    <!-- 내 프로필 -->
    <router-link
      to="/main/myProfileFeed"
      class="router-list my-profile"
      :class="{
        active: alarmPopover === false && routeName === 'myProfileFeed'
      }"
    >
      <img src="/images/main/nav-non-profile.png" />
    </router-link>
  </div>
</template>

<script>
import AlarmFeed from "@/components/main/alarmFeed/AlarmFeed.vue";

export default {
  name: "RouterMenu",
  data() {
    return {
      routeName: "",
      photoUrl: "(/images/main/nav-non-profile.png)",
      alarmPopover: false
    };
  },
  components: { AlarmFeed },
  mounted() {
    this.changeRouteName();
  },
  watch: {
    $route() {
      this.changeRouteName();
    }
  },
  methods: {
    // 현재 router 네임 확인
    changeRouteName() {
      const changeRoute = this.$router.currentRoute.name;
      this.routeName = changeRoute;
    }
  }
};
</script>

<style lang="scss">
.router-list-wrap {
  width: 100%;
  display: flex;

  .router-list {
    display: block;
    height: 23px;
    cursor: pointer;
    margin: 0 8.5px;

    //내 프로필
    &.my-profile {
      width: 23px;
      border-radius: 100%;
      background-color: #cccccc;
      // background-repeat: no-repeat;
      // background-position: center center;
      // background-size: cover;
      // background-image: this.proPhotoUrl;
      position: relative;

      &.active {
        &:before {
          content: "";
          width: 27px;
          height: 27px;
          border: 1px solid #000000;
          border-radius: 100%;
          position: absolute;
          top: -3px;
          left: -3px;
          display: block;
        }
      }
    }
  }
}
</style>
